# NETACAD

# OSPFv2 Concepts
 Open Shortest Path First (OSPF) - может быть single Area, Multi area. OSPFv2 - Ipv4, OSPFv3 - Ipv6. В данном курсе изучаем  OSPFv2
 OSPF - link-state протокол маршрутизации, в отличии от дастанционно-векторного RIP/ Метрика RIP, ___hop count___? проблематичнаяи не подходит для больших сетей с участками работающими на разных скоростях. OSPF - более быстро сходится и лучше работает в таких условиях. 
 
 Концепция ___area___ - разделение областей, которые необходимо разделить по каким-либо признакам для локализации трафика, что приведет к уменьшению количества и объема информации о маршрутах, которыми роутеры обмениваются между собой. ___Link___ - интерфейс роутера, также сетевой сегмент между 2 роутерами или участок между stub area и роутером. Информация о линке-  link-state
 Концепция ___area___ - разделение областей, которые необходимо разделить по каким-либо признакам для локализации трафика, что приведет к уменьшению количества и объема информации о маршрутах, которыми роутеры обмениваются между собой. ___Link___ - интерфейс роутера, также сетевой сегмент между 2 роутерами или участок между stub area и роутером. Информация о линке - ___link-state___, включает в себя ___network prefix___, ___prefix length___, ___cost___.

 Роутеры обмениваются информацией, которую затем используют для построения структур данных (3 OSPF базы), которые затем используется в алгоритмах маршрутизации
 ___Сообщения обмена___:
- Hello packet
- Database description packet
- Link-state request packet
- Link-state update packet
- Link-state acknowledgment packet

___OSPF databases (Структуры данных)___:
- Adjacency database - создает neighbor table.
- Link-state database (LSDB) - создает topology table с состояниями линков.
- Forwarding database - Создает the routing table.

| Database |	Table |	Description |
|:--------:|:--------:|-------------|
| Adjacency Database | Neighbor Table | Список neighbor routers (соседей) с которыми есть двунаправленное взаимодействие. Таблица уникальна, у каждого роутера - своя. просмотр командой ```show ip ospf neighbor```.
| Link-state Database |	Topology Table | Список всех роутеров в сети. Некоторое отображение/представление сетевой топологии. У всех роутеров в одной AREA - одинаковый ___LSDB___. Просмотр командой ```show ip ospf database```. | 
| Forwarding Database | Routing Table | Список маршрутов, просчитанных по определенному алгоритому на основе данных из ___link-state database___. Routing table каждого роутера - уникальна, содержит информацию как и куда отправлять пакет до других роутеров. Просмотр уже известной командой ```show ip route```. |

___Алгоритм___: Используется алгоритм Дейкстра (Dijkstra) shortest-path first (SPF), в котором из суммарной стоимости всех линков складывается стоимость маршрута от роутера до DST. SPF алгоритм работает на каждом роутере. Считает корнем дерева - сам роутера, пути до различных подсетей - рассчитывается и кладутся в Forwarding database, из которой в последствии лучшие пути берутся и помещаются в таблицу маршрутизации.

